        <script is:inline>
          let scriptLoading = null;
          
          const loadUmamiScript = () => {
            if (window.fetchShareData && window.fetchWebsiteStats) {
              return Promise.resolve();
            }
            
            if (scriptLoading) {
              return scriptLoading;
            }
            
            scriptLoading = new Promise((resolve, reject) => {
              const script = document.createElement('script');
              script.src = '/js/umami-share.js';
              script.onload = resolve;
              script.onerror = reject;
              document.head.appendChild(script);
            });
            
            return scriptLoading;
          };
          
          const fetchUmamiStats = async () => {
            try {
              await loadUmamiScript();
              
              const shareData = await window.fetchShareData('2dKQ5T0WrUn6AYtr');
              const token = shareData.token;
              
              const params = {
                startAt: '0',
                endAt: Date.now().toString(),
                unit: 'day',
                timezone: 'Asia/Shanghai',
                url: '/',
                compare: 'false',
              };
              
              const data = await window.fetchWebsiteStats(
                'f7b1324b-9b51-4b00-bc8d-726cbed5168d', 
                token, 
                params
              );
              
              const pageviews = data?.pageviews ?? 'N/A';
              const visits = data?.visits ?? 'N/A';
              document.getElementById('umami-pageviews').textContent = pageviews;
              document.getElementById('umami-visits').textContent = visits;
            } catch (err) {
              document.getElementById('umami-pageviews').textContent = 'N/A';
              document.getElementById('umami-visits').textContent = 'N/A';
            }
          };
          
          if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', fetchUmamiStats);
          } else {
            fetchUmamiStats();
          }
        </script>